{"version":3,"sources":["app.js"],"names":["location_input","document","querySelector","submit","verify","element","event","addEventListener","e","key","url","value","fetch","method","then","result","json","error","innerHTML","longitude","lon","latitude","lat","data","FormData","append","body","results","temp","Math","round","hourly","setTime","temperature","rain","precipProbability","genre_male","j","clothes","genre_female","i","array_clothes","length","classList","add","set_clothes","remove","getInitialData","time","Date","getTime","retourReponse","catch","console","log","message","pluie","weatherData","querySelectorAll","weatherDate","weatherHeure","weatherDay","weatherImg","compass","precedent","suivant","search","month","day","limit","base","displayData","chartTemp0","chartTemp6","chartTemp12","chartTemp18","chartTemp23","chartPrecip0","chartPrecip6","chartPrecip12","chartPrecip18","chartPrecip23","Chart","getElementById","type","labels","datasets","yAxisID","label","borderColor","fill","options","legend","display","title","text","scales","yAxes","position","id","ticks","min","max","gridLines","drawOnChartArea","moon","daily","moonPhase","riseHour","riseMinute","setHour","setMinute","currentDate","currently","set","sunsetTime","rise","sunriseTime","getHours","getMinutes","getDay","getDate","getMonth","getFullYear","summary","src","icon","pressure","windSpeed","humidity","uvIndex","visibility","style","transform","windBearing","displayHourly","getPreviousDay","getNextDay","onreadystatechange","readyState","navigator","geolocation","getCurrentPosition","coords","ville","address","city","town","village","connexionLogin","loginLogin","passLogin","messageLogin","avatar_m1","avatar_m2","avatar_m3","avatar_m4","avatar_f1","avatar_f2","avatar_f3","avatar_f4","array_avatar","array_skin","skin1","skin2","skin3","skin4","sidebarButton","dismiss","sidebar","overlay","toggle","validerRegister","mailRegister","passRegister","prenomRegister","sexeRegister","adresseRegister","villeRegister","colorRegister","verifyRegister","setTimeout","window","location","replace","route","road","backgroundColor"],"mappings":"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","file":"app.js","sourcesContent":["const location_input = document.querySelector(\"#search\");\nconst submit = document.querySelector(\"#adress\");\n\n\n\ngetInitialData();\n\nfunction verify(element,event) {\n    element.addEventListener(event, (e) => {\n        if (e.key === \"Enter\" || event === \"click\") {\n            \n            let city = location_input.value;\n            let url = `https://nominatim.openstreetmap.org/search?format=json&city=${city}`;\n\n            fetch(url, {method: \"POST\"})\n            .then( (result) => { return result.json() })\n            .then( (result) => {\n                if(!result.error){\n                    let longitude = result[0].lon;\n                    let latitude = result[0].lat;\n\n                    let data = new FormData();\n                    \n                    data.append(\"latitude\", latitude);\n                    data.append(\"longitude\", longitude);\n\n                    fetch(\"/weather/get\", {method: \"POST\", body: data})\n                    .then( (results) => { return results.json() })\n                    .then( (results) => {\n                        if(!results.error){                       \n                            temp = Math.round(results.hourly.data[setTime.value].temperature);\n                            rain = results.hourly.data[setTime.value].precipProbability;\n                            \n                            genre_male.addEventListener(\"click\", (e) => {\n                                j = 0;\n                                clothes(temp, rain, j);\n                            })\n                            genre_female.addEventListener(\"click\", (e) => {\n                                j = 4;\n                                clothes(temp, rain, j);\n                            })\n                            j = 0 ;\n                            clothes(temp, rain, j);\n                        } else {\n                            document.querySelector(\"#error\").innerHTML = results.error;\n                        }\n                    });\n                    \n                } else {\n                    document.querySelector(\"#error\").innerHTML = result.error;\n                }\n            });\n        }\n    })\n}\n\nverify(submit, \"click\");\nverify(location_input, \"keydown\");\n\n// Changement vêtements\nfunction clothes(temp, rain, j){\n                    \n    if(temp >= 4 && rain < 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n    set_clothes[j+0].classList.remove(\"invisible\");\n    \n    }else if(temp >= 4 && rain > 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+1].classList.remove(\"invisible\");\n\n    }else if(temp < 4 && rain < 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+2].classList.remove(\"invisible\");\n        \n    }else if(temp < 4 && rain > 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+3].classList.remove(\"invisible\");\n    }\n}\n\n\nfunction getInitialData() {\n    let time = new Date();\ntime = time.getTime();\ntime = Math.round(time/1000);\n\nvar latitude = 48.866667;\nvar longitude = 2.333333;\n\n\n    let data = new FormData();\n\n    data.append(\"latitude\", latitude);\n    data.append(\"longitude\", longitude);\n\n    fetch(\"/weather/get\", {method: \"POST\", body: data})\n    .then((retourReponse) => {\n        return retourReponse.json();\n    })\n    .then((retourReponse) => {\n        temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n        rain = retourReponse.hourly.data[setTime.value].precipProbability;\n        \n        genre_male.addEventListener(\"click\", (e) => {\n            j = 0;\n            clothes(temp, rain, j);\n        })\n        genre_female.addEventListener(\"click\", (e) => {\n            j = 4;\n            clothes(temp, rain, j);\n        })\n        j = 0 ;\n        clothes(temp, rain, j);\n\n    }).catch((error) => {\n        console.log(error);\n    });\n}\nconst message = document.querySelector(\"#message\");\nconst temperature = document.querySelector(\"#tempData\");\nconst pluie = document.querySelector(\"#tempRain\");\nconst weatherData = document.querySelectorAll(\".data\");\nconst weatherDate = document.querySelector(\"#weather-date\");\nconst setTime = document.querySelector(\"#setTime\");\nconst weatherHeure = document.querySelector(\"#weather-heure\");\nconst weatherDay = document.querySelector(\"#weather-day\");\nconst weatherImg = document.querySelector(\"#weather-img\");\nconst compass = document.querySelector(\"#compass\");\nconst precedent = document.querySelector(\"#precedent\");\nconst suivant = document.querySelector(\"#suivant\");\nconst search = document.querySelector(\"#search\");\nconst month = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];\nconst day = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];\n\nconst set_clothes = document.querySelectorAll(\"#clothes\");\nconst array_clothes = document.querySelectorAll(\".img-clothes\");\n\nlet time = new Date();\ntime = time.getTime();\ntime = Math.round(time/1000);\nlet limit = time + (86400*6);\nlet base = time;\nvar latitude = 48.866667;\nvar longitude = 2.333333;\nvar result, temp, rain;\n\n\ngetInitialData();\n\ndocument.onreadystatechange = function () {\n    if (document.readyState === \"complete\") {\n\n        if (navigator.geolocation) { /*demander l'autorisation d'obtenir la géolocalisation*/\n            navigator.geolocation.getCurrentPosition(function (position) {\n\n                time = new Date();\n                time = time.getTime();\n                time = Math.round(time/1000);\n                limit = time + (86400*6);\n                base = time;\n\n                precedent.style.display = \"none\";\n\n                latitude = position.coords.latitude;\n                longitude = position.coords.longitude;\n\n                let data = new FormData();\n\n                data.append(\"latitude\", latitude);\n                data.append(\"longitude\", longitude);\n\n                fetch(\"/weather/get\", {method: \"POST\", body: data})\n                .then((retourReponse) => {\n                    return retourReponse.json();\n                })\n                .then((retourReponse) => {\n\n                    result = retourReponse;\n\n                    displayData(retourReponse);\n\n                    temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n                    rain = retourReponse.hourly.data[setTime.value].precipProbability;\n                     \n                    j = 0 ;\n                    clothes(temp, rain, j);\n\n                    let lat = retourReponse.latitude;\n                    let lon = retourReponse.longitude;\n                    let url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`;\n                    \n                    fetch(url, {method: \"POST\"})\n                    .then( (result) => { return result.json() })\n                    .then( (result) => {\n                        if(!result.error){\n                            let ville;\n\n                            if(typeof result.address.city !== 'undefined'){\n                                ville = result.address.city;\n\n                            } else if(typeof result.address.city === 'undefined' && typeof result.address.town !== 'undefined' ) {\n                                ville = result.address.town\n\n                            } else {\n                                ville = result.address.village;\n                            }  \n                            document.querySelector(\"#search\").value = ville;\n                        }\n                                                            \n                    // clothes(temp, rain, j);\n\n                    }).catch((error) => {\n                        console.log(error);\n                    });\n                })\n    \n            })\n        }\n    } else {\n    }\n}\n\nfunction clothes(temp, rain, j){\n                            \n    if(temp >= 4 && rain < 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n    set_clothes[j+0].classList.remove(\"invisible\");\n    \n    }else if(temp >= 4 && rain > 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+1].classList.remove(\"invisible\");\n\n    }else if(temp < 4 && rain < 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+2].classList.remove(\"invisible\");\n        \n    }else if(temp < 4 && rain > 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+3].classList.remove(\"invisible\");\n    }\n}\n\nfunction displayData(retourReponse) {\n    let chartTemp0 = Math.round(retourReponse.hourly.data[0].temperature);\n    let chartTemp6 = Math.round(retourReponse.hourly.data[6].temperature);\n    let chartTemp12 = Math.round(retourReponse.hourly.data[12].temperature);\n    let chartTemp18 = Math.round(retourReponse.hourly.data[18].temperature);\n    let chartTemp23 = Math.round(retourReponse.hourly.data[23].temperature);\n\n    let chartPrecip0 = Math.round(retourReponse.hourly.data[0].precipProbability * 100);\n    let chartPrecip6 = Math.round(retourReponse.hourly.data[6].precipProbability * 100);\n    let chartPrecip12 = Math.round(retourReponse.hourly.data[12].precipProbability * 100);\n    let chartPrecip18 = Math.round(retourReponse.hourly.data[18].precipProbability * 100);\n    let chartPrecip23 = Math.round(retourReponse.hourly.data[23].precipProbability * 100);\n\n    new Chart(document.getElementById(\"summaryChart\"), {\n        type: 'line',\n        data: {\n          labels: ['00:00', '06:00', '12:00', '18:00', '23:00'],\n          datasets: [{ \n              data: [chartTemp0, chartTemp6, chartTemp12, chartTemp18, chartTemp23],\n              yAxisID: 'temperature',\n              label: \"Température\",\n              borderColor: \"#980000\",\n              fill: true\n            }, { \n              data: [chartPrecip0, chartPrecip6, chartPrecip12, chartPrecip18, chartPrecip23],\n              yAxisID: 'rain',\n              label: \"Précipitation\",\n              borderColor: \"#030340\",\n              fill: true\n            }\n          ]\n        },\n        options: {\n            legend:{\n                display: false\n            },\n            title: {\n                display: false,\n                text: 'World population per region (in millions)'\n            },\n            scales: {\n                yAxes: [{\n                    type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n                    display: true,\n                    position: 'left',\n                    id: 'temperature',\n                }, {\n                    type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n                    display: true,\n                    position: 'right',\n                    id: 'rain',\n                    ticks: {\n                        min: 0,\n                        max: 100\n                    },\n    \n                    // grid line settings\n                    gridLines: {\n                        drawOnChartArea: false, // only want the grid lines for one axis to show up\n                    },\n                }],\n            }\n        }\n      });\n      \n\n\n    let phase = (Math.round(retourReponse.daily.data[0].moonPhase * 8) / 8);\n    let moon = \"\";\n\n    switch (phase) {\n        case 0:\n        case 1:\n            moon = \"Nouvelle lune\";\n            break;\n        case 0.125: \n        case 0.875:\n            moon = \"Croissant de lune\";                            \n            break;\n        case 0.25:\n        case 0.375:\n        case 0.625: \n        case 0.75:\n            moon = \"Demi lune\";                                                        \n            break;\n        case 0.5:\n            moon = \"Pleine lune\";                                               \n            break;\n    }\n\n\n    let currentDate = new Date(retourReponse.currently.time * 1000);\n\n    let set = new Date(retourReponse.daily.data[0].sunsetTime * 1000);\n    let rise = new Date(retourReponse.daily.data[0].sunriseTime * 1000);\n    let riseHour, riseMinute, setHour, setMinute;\n\n    rise.getHours() < 10 ? riseHour = \"0\" + rise.getHours() : riseHour = rise.getHours();\n    rise.getMinutes() < 10 ? riseMinute = \"0\" + rise.getMinutes() : riseMinute = rise.getMinutes();\n\n    set.getHours() < 10 ? setHour = \"0\" + set.getHours() : setHour = set.getHours();\n    set.getMinutes() < 10 ? setMinute = \"0\" + set.getMinutes() : setMinute = set.getMinutes();\n    \n    weatherDay.innerHTML = day[currentDate.getDay()];\n    weatherDate.innerHTML = currentDate.getDate() + \" \" + month[currentDate.getMonth()] + \" \" + currentDate.getFullYear();\n    message.innerHTML = retourReponse.currently.summary;\n    temperature.innerHTML = Math.round(retourReponse.currently.temperature) + \"°C\";\n    weatherImg.src = \"../Assets/img/weather-icons/\" + retourReponse.currently.icon + \".svg\";\n    pluie.innerHTML = Math.round(retourReponse.currently.precipProbability * 100) + \"%\";\n    weatherData[0].innerHTML = Math.round(retourReponse.currently.pressure) + \" hpa\";\n    weatherData[1].innerHTML = Math.round(retourReponse.currently.windSpeed) + \" m/s\";\n    weatherData[2].innerHTML = Math.round(retourReponse.currently.humidity) + \"%\";\n    weatherData[3].innerHTML = Math.round(retourReponse.currently.precipProbability * 100) + \"%\";\n    weatherData[4].innerHTML = Math.round(retourReponse.currently.temperature) + \"°C\";\n    weatherData[5].innerHTML = Math.round(retourReponse.currently.uvIndex);\n    weatherData[6].innerHTML = Math.round(retourReponse.currently.visibility) + \" km\";\n    weatherData[7].innerHTML = riseHour + \":\" + riseMinute;\n    weatherData[8].innerHTML = setHour + \":\" + setMinute;\n    weatherData[9].innerHTML = moon;\n    setTime.value = currentDate.getHours();\n    weatherHeure.innerHTML = currentDate.getHours() + \":00\";\n    compass.style.transform = \"rotate(\" + retourReponse.currently.windBearing + \"deg\";\n}\n\nfunction displayHourly() {\n    message.innerHTML = result.hourly.data[setTime.value].summary;\n    temperature.innerHTML = Math.round(result.hourly.data[setTime.value].temperature) + \"°C\";\n    weatherImg.src = \"../Assets/img/weather-icons/\" + result.hourly.data[setTime.value].icon + \".svg\";\n    pluie.innerHTML = Math.round(result.hourly.data[setTime.value].precipProbability * 100) + \"%\";\n    weatherData[0].innerHTML = Math.round(result.hourly.data[setTime.value].pressure) + \" hpa\";\n    weatherData[1].innerHTML = Math.round(result.hourly.data[setTime.value].windSpeed) + \" m/s\";\n    weatherData[2].innerHTML = Math.round(result.hourly.data[setTime.value].humidity) + \"%\";\n    weatherData[3].innerHTML = Math.round(result.hourly.data[setTime.value].precipProbability * 100) + \"%\";\n    weatherData[4].innerHTML = Math.round(result.hourly.data[setTime.value].temperature) + \"°C\";\n    weatherData[5].innerHTML = Math.round(result.hourly.data[setTime.value].uvIndex);\n    weatherData[6].innerHTML = Math.round(result.hourly.data[setTime.value].visibility) + \" km\";\n    weatherHeure.innerHTML = setTime.value + \":00\";\n    compass.style.transform = \"rotate(\" + result.hourly.data[setTime.value].windBearing + \"deg\";\n\n    // Changement vêtements\n    let temp = Math.round(result.hourly.data[setTime.value].temperature);\n    let rain = result.hourly.data[setTime.value].precipProbability;\n\n    genre_male.addEventListener(\"click\", (e) => {\n        j = 0;\n        clothes(temp, rain, j);\n    })\n    genre_female.addEventListener(\"click\", (e) => {\n        j = 4;\n        clothes(temp, rain, j);\n    })\n\n    clothes(temp, rain, j);\n}\n\nfunction getPreviousDay() {\n\n    let data = new FormData();\n    time -= 86400;\n\n\n    time === base ? precedent.style.display = \"none\" : precedent.style.display = \"block\";\n    time === limit ? suivant.style.display = \"none\" : suivant.style.display = \"block\";\n\n    if(time === base) {\n        precedent.style.display = \"none\";\n    } else {\n        precedent.style.display = \"block\";\n    }\n\n    data.append(\"latitude\", latitude);\n    data.append(\"longitude\", longitude);\n    data.append(\"time\", time);\n\n    fetch(\"/weather/get\", {method: \"POST\", body: data})\n    .then((retourReponse) => {\n        return retourReponse.json();\n    })\n    .then((retourReponse) => {\n\n        result = retourReponse;\n\n        displayData(retourReponse);\n        displayHourly(retourReponse);\n\n        // Changement vêtements\n        let temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n        let rain = retourReponse.hourly.data[setTime.value].precipProbability;\n        \n        genre_male.addEventListener(\"click\", (e) => {\n            j = 0;\n            clothes(temp, rain, j);\n        })\n        genre_female.addEventListener(\"click\", (e) => {\n            j = 4;\n            clothes(temp, rain, j);\n        })\n        clothes(temp, rain, j);\n            \n    }).catch((error) => {\n        console.log(error);\n    });\n}\n\nfunction getNextDay() {\n\n        let data = new FormData();\n        time += 86400;\n\n\n        if(time === limit) {\n            suivant.style.display = \"none\";\n        } else {\n            suivant.style.display = \"block\";\n        }\n\n        time === base ? precedent.style.display = \"none\" : precedent.style.display = \"block\";\n        time === limit ? suivant.style.display = \"none\" : suivant.style.display = \"block\";\n\n        data.append(\"latitude\", latitude);\n        data.append(\"longitude\", longitude);\n        data.append(\"time\", time);\n\n        fetch(\"/weather/get\", {method: \"POST\", body: data})\n        .then((retourReponse) => {\n            return retourReponse.json();\n        })\n        .then((retourReponse) => {\n\n            result = retourReponse;\n\n            displayData(retourReponse);\n            displayHourly(retourReponse);\n\n            // Changement vêtements\n            let temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n            let rain = retourReponse.hourly.data[setTime.value].precipProbability;\n        \n            genre_male.addEventListener(\"click\", (e) => {\n                j = 0;\n                clothes(temp, rain, j);\n            })\n            genre_female.addEventListener(\"click\", (e) => {\n                j = 4;\n                clothes(temp, rain, j);\n            })\n            clothes(temp, rain, j);\n\n        }).catch((error) => {\n            console.log(error);\n        });\n}\n\nfunction getInitialData() {\n\n    let data = new FormData();\n\n    data.append(\"latitude\", latitude);\n    data.append(\"longitude\", longitude);\n\n    fetch(\"/weather/get\", {method: \"POST\", body: data})\n    .then((retourReponse) => {\n        return retourReponse.json();\n    })\n    .then((retourReponse) => {\n\n        result = retourReponse;\n\n        displayData(retourReponse);\n\n        temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n        rain = retourReponse.hourly.data[setTime.value].precipProbability;\n        \n        genre_male.addEventListener(\"click\", (e) => {\n            j = 0;\n            clothes(temp, rain, j);\n        })\n        genre_female.addEventListener(\"click\", (e) => {\n            j = 4;\n            clothes(temp, rain, j);\n        })\n        j = 0 ;\n        clothes(temp, rain, j);\n\n        suivant.addEventListener('click', () => {\n            getNextDay();\n        });\n    \n        precedent.addEventListener('click', () => {\n            getPreviousDay();\n        });\n    \n        \n        setTime.addEventListener(\"change\", () => {                \n            displayHourly();\n        })\n\n    }).catch((error) => {\n        console.log(error);\n    });\n}\nconst connexionLogin = document.querySelector(\"#connexion_login\");\nconst loginLogin = document.querySelector(\"#login_login\");\nconst passLogin = document.querySelector(\"#pass_login\");\nconst messageLogin = document.querySelector(\"#error\");\n// const search = document.querySelector(\"#search\");\n\n\nfunction verify(element, event) {\n\n    element.addEventListener(event, (e) => {\n\n        if (e.key === \"Enter\" || event === \"click\") {\n           \n            let data = new FormData();\n            data.append(\"login\", loginLogin.value);\n            data.append(\"pass\", passLogin.value);\n        \n            fetch(\"/login/verif\", {method: \"POST\", body: data})\n            .then( (result) => { return result.json() } )\n            .then( (result) => {\n                // console.log(result.error);\n                if(!result.error){\n                    // console.log(result);\n                    // messageLogin.innerHTML = 'Bonjour ' + result.infos.prenom;\n                    // search.value = result.infos.adresse + ' ' + result.infos.ville;\n                    // console.log(result.infos.sexe);\n                    // window.location.replace(\"/weather\");\n                } else {\n                    document.querySelector(\"#error\").innerHTML = result.error;\n                }\n            });\n        }\n    })\n}\n\n\nverify(connexionLogin, \"click\");\nverify(loginLogin, \"keydown\");\nverify(passLogin, \"keydown\");\nconst genre_male = document.querySelector(\"#maleButton\");\nconst genre_female = document.querySelector(\"#femaleButton\");\n\nconst avatar_m1 = document.querySelector(\"#avatar_m1\");\nconst avatar_m2 = document.querySelector(\"#avatar_m2\");\nconst avatar_m3 = document.querySelector(\"#avatar_m3\");\nconst avatar_m4 = document.querySelector(\"#avatar_m4\");\nconst avatar_f1 = document.querySelector(\"#avatar_f1\");\nconst avatar_f2 = document.querySelector(\"#avatar_f2\");\nconst avatar_f3 = document.querySelector(\"#avatar_f3\");\nconst avatar_f4 = document.querySelector(\"#avatar_f4\");\n\nconst array_avatar = document.querySelectorAll(\".img-avatar\");\nconst array_skin = document.querySelectorAll(\".my-2\");\n\nconst skin1 = document.querySelector(\"#skin1\");\nconst skin2 = document.querySelector(\"#skin2\");\nconst skin3 = document.querySelector(\"#skin3\");\nconst skin4 = document.querySelector(\"#skin4\");\n\navatar_m1.classList.remove(\"invisible\");\ngenre_male.classList.add(\"genre\");\ngenre_female.classList.remove(\"genre\");\nfor (let i = 1; i < array_avatar.length; i++) {\n    array_avatar[i].classList.add(\"invisible\");\n}\n\nfor (let j = 0; j < array_skin.length; j++) {\n    array_skin[j].addEventListener(\"click\", (e) => {\n        for (let i = 0; i < array_avatar.length; i++) {\n            array_avatar[i].classList.add(\"invisible\");\n        }\n        array_avatar[j].classList.remove(\"invisible\");\n    })\n}\n\ngenre_male.addEventListener(\"click\", (e) => {\n    avatar_m1.classList.remove(\"invisible\");\n    genre_male.classList.add(\"genre\");\n    genre_female.classList.remove(\"genre\");\n    for (let i = 1; i < array_avatar.length; i++) {\n        array_avatar[i].classList.add(\"invisible\");\n    }\n\n    for (let j = 0; j < array_skin.length; j++) {\n        array_skin[j].addEventListener(\"click\", (e) => {\n            for (let i = 0; i < array_avatar.length; i++) {\n                array_avatar[i].classList.add(\"invisible\");\n            }\n            array_avatar[j].classList.remove(\"invisible\");\n        })\n    }\n})\n\ngenre_female.addEventListener(\"click\", (e) => {\n    \n    for (let i = 0; i < array_avatar.length; i++) {\n        array_avatar[i].classList.add(\"invisible\");\n    }\n    avatar_f1.classList.remove(\"invisible\");\n\n    genre_female.classList.add(\"genre\");\n    genre_male.classList.remove(\"genre\");\n    for (let j = 0; j < array_skin.length; j++) {\n        array_skin[j].addEventListener(\"click\", (e) => {\n            for (let i = 0; i < array_avatar.length; i++) {\n                array_avatar[i].classList.add(\"invisible\");\n            }\n            array_avatar[j+4].classList.remove(\"invisible\");\n        })\n    }\n})\nnew Chart(document.getElementById(\"summaryChart\"), {\n    type: 'line',\n    data: {\n      labels: ['00:00', '06:00', '12:00', '18:00', '23:00'],\n      datasets: [{ \n          data: [1, 3, 8, 5, 2],\n          yAxisID: 'temperature',\n          label: \"Température\",\n          borderColor: \"#980000\",\n          fill: true\n        }, { \n          data: [0, 2, 5, 10, 3],\n          yAxisID: 'rain',\n          label: \"Précipitation\",\n          borderColor: \"#030340\",\n          fill: true\n        }\n      ]\n    },\n    options: {\n        legend:{\n            display: false\n        },\n        title: {\n            display: false,\n            text: 'World population per region (in millions)'\n        },\n        scales: {\n            yAxes: [{\n                type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n                display: true,\n                position: 'left',\n                id: 'temperature',\n            }, {\n                type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n                display: true,\n                position: 'right',\n                id: 'rain',\n                ticks: {\n                    min: 0,\n                    max: 100\n                },\n\n                // grid line settings\n                gridLines: {\n                    drawOnChartArea: false, // only want the grid lines for one axis to show up\n                },\n            }],\n        }\n    }\n  });\n  \nconst sidebarButton = document.querySelector('#sidebarCollapse');\nconst dismiss = document.querySelector('#dismiss');\nconst sidebar = document.querySelector('#sidebar');\nconst overlay = document.querySelector('#overlay');\n\ndocument.addEventListener(\"DOMContentLoaded\",function(){\n\n    sidebarButton.addEventListener('click', (e)=>{\n        sidebar.classList.toggle('active');\n        overlay.classList.toggle('active');\n    })\n\n    dismiss.addEventListener('click', (e)=>{\n        sidebar.classList.toggle('active');\n        overlay.classList.toggle('active');\n    })\n});\n// $('.message a').click(function(){\n//     $('form').animate({height: \"toggle\", opacity: \"toggle\"}, \"slow\");\n//  });\n\nconst validerRegister = document.querySelector(\"#valider-register\");\nconst mailRegister = document.querySelector(\"#mail-register\");\nconst passRegister = document.querySelector(\"#pass-register\");\nconst prenomRegister = document.querySelector(\"#prenom-register\");\nconst sexeRegister = document.querySelector(\"#sexe-register\");\nconst adresseRegister = document.querySelector(\"#adresse-register\");\nconst villeRegister = document.querySelector(\"#ville-register\");\nconst colorRegister = document.querySelector(\"#color-register\");\n\n\n\ndocument.onreadystatechange = function () {\n    if (document.readyState === \"complete\") {\n        if (navigator.geolocation) { /*demander l'autorisation d'obtenir la géolocalisation*/\n            navigator.geolocation.getCurrentPosition(function (position) {\n\n                let latitude = position.coords.latitude;\n                let longitude = position.coords.longitude;\n                let link = \"https://nominatim.openstreetmap.org/reverse?format=json&lat=\" + latitude + \"&lon=\" + longitude;\n\n                fetch(link, {method: \"POST\"})\n                .then( (result) => { return result.json() } )\n                .then( (result) => {\n                    \n                    \n                    let ville;\n                    \n                    if(typeof result.address.city !== 'undefined'){\n                        ville = result.address.city;\n                    } else if(typeof result.address.city === 'undefined' && typeof result.address.town !== 'undefined' ) {\n                        ville = result.address.town\n                    } else {\n                        ville = result.address.village;\n                    }\n                    \n                let route = result.address.road;\n                \n                adresseRegister.value = route;\n                villeRegister.value = ville;\n\n                });\n\n            })\n        }\n    }\n}\n\n\n\n\n\ncolorRegister.addEventListener('click', () => {\n    colorRegister.style.backgroundColor = colorRegister.value; \n})\n\nfunction verifyRegister(element, event) {\n\n    element.addEventListener(event, (e) => {\n\n        if (e.key === \"Enter\" || event === \"click\") {\n            let data = new FormData();\n            data.append(\"mail\", mailRegister.value);\n            data.append(\"pass\", passRegister.value);\n            data.append(\"prenom\", prenomRegister.value);\n            data.append(\"sexe\", sexeRegister.value);\n            data.append(\"color\", colorRegister.value);\n            data.append(\"adresse\", adresseRegister.value);\n            data.append(\"ville\", villeRegister.value);\n        \n            fetch(\"/register/verif\", {method: \"POST\", body: data})\n            .then( (result) => { return result.json() } )\n            .then( (result) => {\n                console.log(result);\n\n\n                if(!result.message){\n                    document.querySelector(\".message\").innerHTML = \"Inscription réussie, vous allez être redirigé.\";\n                    setTimeout(function(){\n                        window.location.replace(\"/weather\");\n                    }, 3000);\n                } else {\n                    document.querySelector(\".message\").innerHTML = \"\";\n                    for (let i = 0; i < result.message.length; i++) {\n                        document.querySelector(\".message\").innerHTML += result.message[i] + '</br>';\n                    }\n                }\n                }\n            );\n        }\n    })\n}\n\nverifyRegister(validerRegister, \"click\");\nverifyRegister(mailRegister, \"keydown\");\nverifyRegister(passRegister, \"keydown\");\nverifyRegister(prenomRegister, \"keydown\");\nverifyRegister(adresseRegister, \"keydown\");\nverifyRegister(villeRegister, \"keydown\");"]}